)]}'
{"version":3,"file":"\\packages\\localstorage.js","sources":["localstorage/localstorage.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yD;;AAEA,0B;AACA,0B;AACA,6B;AACA,8C;AACA,M;AACA,oC;AACA,8C;AACA,M;AACA,gC;AACA,0C;AACA,K;AACA,I;AACA,C;AACA,gE;AACA,qE;AACA,qE;AACA,uD;AACA,sC;AACA,kC;AACA,iE;;AAEA,mC;AACA,6B;;AAEA,0B;AACA,kC;AACA,sC;AACA,iC;AACA,M;;AAEA,gC;AACA,oC;AACA,iC;AACA,M;;AAEA,6B;AACA,iC;AACA,wC;AACA,K;AACA,I;AACA,Q;AACA,gB;AACA,iE;AACA,kE;AACA,gC;;AAEA,0B;AACA,c;;AAEA,kC;AACA,4B;AACA,M;AACA,gC;AACA,6B;AACA,M;AACA,6B;AACA,kC;AACA,8B;AACA,oB;AACA,U;AACA,qB;AACA,K;AACA,I;AACA,C","sourcesContent":["// This is not an ideal name, but we can change it later.\r\n\r\nif (window.localStorage) {\r\n  Meteor._localStorage = {\r\n    getItem: function (key) {\r\n      return window.localStorage.getItem(key);\r\n    },\r\n    setItem: function (key, value) {\r\n      window.localStorage.setItem(key, value);\r\n    },\r\n    removeItem: function (key) {\r\n      window.localStorage.removeItem(key);\r\n    }\r\n  };\r\n}\r\n// XXX eliminate dependency on jQuery, detect browsers ourselves\r\nelse if ($.browser.msie) { // If we are on IE, which support userData\r\n  var userdata = document.createElement('span'); // could be anything\r\n  userdata.style.behavior = 'url(\"#default#userData\")';\r\n  userdata.id = 'localstorage-helper';\r\n  userdata.style.display = 'none';\r\n  document.getElementsByTagName(\"head\")[0].appendChild(userdata);\r\n\r\n  var userdataKey = 'localStorage';\r\n  userdata.load(userdataKey);\r\n\r\n  Meteor._localStorage = {\r\n    setItem: function (key, val) {\r\n      userdata.setAttribute(key, val);\r\n      userdata.save(userdataKey);\r\n    },\r\n\r\n    removeItem: function (key) {\r\n      userdata.removeAttribute(key);\r\n      userdata.save(userdataKey);\r\n    },\r\n\r\n    getItem: function (key) {\r\n      userdata.load(userdataKey);\r\n      return userdata.getAttribute(key);\r\n    }\r\n  };\r\n} else {\r\n  Meteor._debug(\r\n    \"You are running a browser with no localStorage or userData \"\r\n      + \"support. Logging in from one tab will not cause another \"\r\n      + \"tab to be logged in.\");\r\n\r\n  Meteor._localStorage = {\r\n    _data: {},\r\n\r\n    setItem: function (key, val) {\r\n      this._data[key] = val;\r\n    },\r\n    removeItem: function (key) {\r\n      delete this._data[key];\r\n    },\r\n    getItem: function (key) {\r\n      var value = this._data[key];\r\n      if (value === undefined)\r\n        return null;\r\n      else\r\n        return value;\r\n    }\r\n  };\r\n}\r\n"]}